{"version":3,"file":"linkedIn.queries.js","names":["linkedInQueries","exports","createLinkedInJob","process","env","PROJECT_ID","DATASET_ID","TABLE_LINKEDIN_JOBS","insertLinkedInJob","getAllLinkedInJobs","updateJobBoard","deleteJobBoard","deleteAllAutomationJobs","deleteOldAutomationJobs"],"sources":["../../../src/queries/linkedIn/linkedIn.queries.ts"],"sourcesContent":["export const linkedInQueries = {\r\n  //manual job creation\r\n  createLinkedInJob: `\r\n    INSERT INTO \\`${process.env.PROJECT_ID}.${process.env.DATASET_ID}.${process.env.TABLE_LINKEDIN_JOBS}\\`\r\n  (id, title, company, link, carrierPathLink, location, datePosted, entityURN, imgSrc, jobDescription, jobTrigger, createdAt) VALUES \r\n  (@id, @title, @company, @link, @carrierPathLink, @location, @datePosted, @entityURN, @imgSrc, @jobDescription, @jobTrigger, @createdAt)`,\r\n\r\n  //automation jobs queries\r\n  insertLinkedInJob: `\r\n  INSERT INTO \\`${process.env.PROJECT_ID}.${process.env.DATASET_ID}.${process.env.TABLE_LINKEDIN_JOBS}\\`\r\n    (id, title, company, link, carrierPathLink, location, datePosted, entityURN, imgSrc, jobDescription, jobTrigger, createdAt)\r\n  VALUES (@id, @title, @company, @link, @carrierPathLink, @location, @datePosted, @entityURN, @imgSrc, @jobDescription, @jobTrigger, @createdAt);\r\n`,\r\n\r\n  // insertLinkedInJob: `\r\n  //   MERGE INTO \\`${process.env.PROJECT_ID}.${process.env.DATASET_ID}.${process.env.TABLE_LINKEDIN_JOBS}\\` AS target\r\n  //   USING (SELECT @id AS id, @title AS title, @company AS company, @link AS link,\r\n  //                 @carrierPathLink AS carrierPathLink, @location AS location, @datePosted AS datePosted,\r\n  //                 @entityURN AS entityURN, @imgSrc AS imgSrc, @jobDescription AS jobDescription) AS source\r\n  //   ON target.entityURN = source.entityURN\r\n  //   WHEN NOT MATCHED THEN\r\n  //     INSERT (id, title, company, link, carrierPathLink, location, datePosted, entityURN, imgSrc, jobDescription)\r\n  //     VALUES (source.id, source.title, source.company, source.link, source.carrierPathLink, source.location, source.datePosted,\r\n  //             source.entityURN, source.imgSrc, source.jobDescription); `,\r\n\r\n  getAllLinkedInJobs: `\r\n  SELECT\r\n    id AS jobId,\r\n    title AS jobTitle,\r\n    company AS companyName,\r\n    link AS jobLink,\r\n    carrierPathLink AS jobLink1,\r\n    location AS jobLocation,\r\n    datePosted AS datePosted,\r\n    entityURN AS entityURN,\r\n    imgSrc AS companyLogo,\r\n    jobDescription AS jobDescription,\r\n    createdAt AS createdAt\r\n  FROM \\`${process.env.PROJECT_ID}.${process.env.DATASET_ID}.${process.env.TABLE_LINKEDIN_JOBS}\\`;\r\n`,\r\n\r\n  updateJobBoard: `\r\n  UPDATE \\`${process.env.PROJECT_ID}.${process.env.DATASET_ID}.${process.env.TABLE_LINKEDIN_JOBS}\\`\r\n      SET carrierPathLink = @carrierPathLink, imgSrc = @imgSrc, updatedBy = @updatedBy\r\n      WHERE id = @jobId`,\r\n\r\n  deleteJobBoard: `\r\n  DELETE FROM \\`${process.env.PROJECT_ID}.${process.env.DATASET_ID}.${process.env.TABLE_LINKEDIN_JOBS}\\`\r\n  WHERE id = @jobId;`,\r\n\r\n  deleteAllAutomationJobs:`\r\n  DELETE FROM  \\`${process.env.PROJECT_ID}.${process.env.DATASET_ID}.${process.env.TABLE_LINKEDIN_JOBS}\\`\r\n  WHERE jobTrigger = 'Automation';`,\r\n\r\n   deleteOldAutomationJobs:`\r\n   DELETE FROM \\`${process.env.PROJECT_ID}.${process.env.DATASET_ID}.${process.env.TABLE_LINKEDIN_JOBS}\\`\r\n        WHERE jobTrigger = 'Automation' \r\n        AND PARSE_DATE('%Y-%m-%d', datePosted) < DATE_SUB(CURRENT_DATE(), INTERVAL 1 MONTH);`\r\n\r\n};\r\n"],"mappings":";;;;;;AAAO,MAAMA,eAAe,GAAAC,OAAA,CAAAD,eAAA,GAAG;EAC7B;EACAE,iBAAiB,EAAE;AACrB,oBAAoBC,OAAO,CAACC,GAAG,CAACC,UAAU,IAAIF,OAAO,CAACC,GAAG,CAACE,UAAU,IAAIH,OAAO,CAACC,GAAG,CAACG,mBAAmB;AACvG;AACA,0IAA0I;EAExI;EACAC,iBAAiB,EAAE;AACrB,kBAAkBL,OAAO,CAACC,GAAG,CAACC,UAAU,IAAIF,OAAO,CAACC,GAAG,CAACE,UAAU,IAAIH,OAAO,CAACC,GAAG,CAACG,mBAAmB;AACrG;AACA;AACA,CAAC;EAEC;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;;EAEAE,kBAAkB,EAAE;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAWN,OAAO,CAACC,GAAG,CAACC,UAAU,IAAIF,OAAO,CAACC,GAAG,CAACE,UAAU,IAAIH,OAAO,CAACC,GAAG,CAACG,mBAAmB;AAC9F,CAAC;EAECG,cAAc,EAAE;AAClB,aAAaP,OAAO,CAACC,GAAG,CAACC,UAAU,IAAIF,OAAO,CAACC,GAAG,CAACE,UAAU,IAAIH,OAAO,CAACC,GAAG,CAACG,mBAAmB;AAChG;AACA,wBAAwB;EAEtBI,cAAc,EAAE;AAClB,kBAAkBR,OAAO,CAACC,GAAG,CAACC,UAAU,IAAIF,OAAO,CAACC,GAAG,CAACE,UAAU,IAAIH,OAAO,CAACC,GAAG,CAACG,mBAAmB;AACrG,qBAAqB;EAEnBK,uBAAuB,EAAC;AAC1B,mBAAmBT,OAAO,CAACC,GAAG,CAACC,UAAU,IAAIF,OAAO,CAACC,GAAG,CAACE,UAAU,IAAIH,OAAO,CAACC,GAAG,CAACG,mBAAmB;AACtG,mCAAmC;EAEhCM,uBAAuB,EAAC;AAC3B,mBAAmBV,OAAO,CAACC,GAAG,CAACC,UAAU,IAAIF,OAAO,CAACC,GAAG,CAACE,UAAU,IAAIH,OAAO,CAACC,GAAG,CAACG,mBAAmB;AACtG;AACA;AAEA,CAAC","ignoreList":[]}