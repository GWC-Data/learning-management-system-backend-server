{"version":3,"file":"user.queries.js","names":["userQueries","exports","createUser","process","env","PROJECT_ID","DATASET_ID","TABLE_USER","getAllUsers","TABLE_ROLE","getUserById","updateUserForAdmin","updateTraineeUser","deleteUser"],"sources":["../../../src/queries/users/user.queries.ts"],"sourcesContent":["export const userQueries = {\r\n  createUser: `\r\n  INSERT INTO  \\`${process.env.PROJECT_ID}.${process.env.DATASET_ID}.${process.env.TABLE_USER}\\`\r\n(id, firstName, lastName, email, dateOfBirth, phoneNumber, password, dateOfJoining, address, qualification, profilePic, roleId, accountStatus, createdBy, createdAt)\r\nVALUES\r\n(@id, @firstName, @lastName, @email, @dateOfBirth, @phoneNumber, @password, @dateOfJoining, @address, @qualification, @profilePic, @roleId, @accountStatus, @createdBy, @createdAt)\r\n`,\r\n\r\n    getAllUsers: `\r\n    SELECT\r\n      u.id AS userId,\r\n      u.firstName,\r\n      u.lastName,\r\n      u.email,\r\n      u.phoneNumber,\r\n      u.dateOfBirth,\r\n      u.dateOfJoining,\r\n      u.address,\r\n      u.qualification,\r\n      u.profilePic,\r\n      u.roleId,\r\n      r.id,\r\n      r.name AS roleName, \r\n      u.accountStatus\r\n    FROM \\`${process.env.PROJECT_ID}.${process.env.DATASET_ID}.${process.env.TABLE_USER}\\` u\r\n    LEFT JOIN \\`${process.env.PROJECT_ID}.${process.env.DATASET_ID}.${process.env.TABLE_ROLE}\\` r\r\n      ON u.roleId = r.id\r\n    ORDER BY u.id;\r\n  `,\r\n\r\n  getUserById: `\r\n  SELECT\r\n    u.id AS userId,\r\n    u.firstName,\r\n    u.lastName,\r\n    u.email,\r\n    u.phoneNumber,\r\n    u.dateOfBirth,\r\n    u.dateOfJoining,\r\n    u.address,\r\n    u.qualification,\r\n    u.profilePic,\r\n    u.roleId,\r\n    r.name AS roleName, \r\n    u.accountStatus,\r\n  FROM \\`${process.env.PROJECT_ID}.${process.env.DATASET_ID}.${process.env.TABLE_USER}\\` u\r\n  LEFT JOIN \\`${process.env.PROJECT_ID}.${process.env.DATASET_ID}.${process.env.TABLE_ROLE}\\` r\r\n    ON u.roleId = r.id\r\n  WHERE u.id = @id\r\n  GROUP BY u.id, u.firstName, u.lastName, u.email, u.phoneNumber,\r\n           u.dateOfBirth, u.dateOfJoining, u.address,\r\n           u.qualification, u.profilePic, u.roleId, u.accountStatus, r.name;\r\n`,\r\n\r\n//   updateUser: `\r\n//   UPDATE \\`teqcertify.lms.users\\`\r\n//   SET firstName = @firstName, \r\n//       lastName = @lastName, \r\n//       email = @email, \r\n//       dateOfBirth = @dateOfBirth, \r\n//       phoneNumber = @phoneNumber, \r\n//       password = @password, \r\n//       dateOfJoining = @dateOfJoining, \r\n//       address = @address, \r\n//       qualification = @qualification, \r\n//       profilePic = @profilePic, \r\n//       roleId = @roleId, \r\n//       accountStatus = @accountStatus,\r\n//       updatedBy = @updatedBy,\r\n//       updatedAt = @updatedAt \r\n//   WHERE id = @id\r\n// `,\r\n\r\n\r\nupdateUserForAdmin: `\r\n    UPDATE \\`${process.env.PROJECT_ID}.${process.env.DATASET_ID}.${process.env.TABLE_USER}\\`\r\n    SET\r\n      firstName = COALESCE(@firstName, firstName),\r\n      lastName = COALESCE(@lastName, lastName),\r\n      email = COALESCE(@email, email),\r\n      phoneNumber = COALESCE(@phoneNumber, phoneNumber),\r\n      dateOfBirth = COALESCE(@dateOfBirth, dateOfBirth),\r\n      qualification = COALESCE(@qualification, qualification),\r\n      address = COALESCE(@address, address),\r\n      roleId = COALESCE(@roleId, roleId),\r\n      accountStatus = COALESCE(@accountStatus, accountStatus),\r\n      updatedBy = @updatedBy,\r\n      updatedAt = @updatedAt\r\n    WHERE id = @id;\r\n    `,\r\n\r\n\r\n    updateTraineeUser:\r\n    `\r\n    UPDATE \\`${process.env.PROJECT_ID}.${process.env.DATASET_ID}.${process.env.TABLE_USER}\\`\r\nSET\r\n    firstName = COALESCE(@firstName, firstName),\r\n    lastName = COALESCE(@lastName, lastName),\r\n    dateOfBirth = COALESCE(@dateOfBirth, dateOfBirth),\r\n    phoneNumber = COALESCE(@phoneNumber, phoneNumber),\r\n    address = COALESCE(@address, address),\r\n    qualification = COALESCE(@qualification, qualification),\r\n    profilePic = COALESCE(@profilePic, profilePic),\r\n    updatedBy = @updatedBy,\r\n    updatedAt = @updatedAt\r\nWHERE id = @id;\r\n \r\n    `,\r\n\r\n  deleteUser: `\r\n      DELETE FROM \\`${process.env.PROJECT_ID}.${process.env.DATASET_ID}.${process.env.TABLE_USER}\\`\r\n      WHERE id = @id\r\n    `\r\n};\r\n"],"mappings":";;;;;;AAAO,MAAMA,WAAW,GAAAC,OAAA,CAAAD,WAAA,GAAG;EACzBE,UAAU,EAAE;AACd,mBAAmBC,OAAO,CAACC,GAAG,CAACC,UAAU,IAAIF,OAAO,CAACC,GAAG,CAACE,UAAU,IAAIH,OAAO,CAACC,GAAG,CAACG,UAAU;AAC7F;AACA;AACA;AACA,CAAC;EAEGC,WAAW,EAAE;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAaL,OAAO,CAACC,GAAG,CAACC,UAAU,IAAIF,OAAO,CAACC,GAAG,CAACE,UAAU,IAAIH,OAAO,CAACC,GAAG,CAACG,UAAU;AACvF,kBAAkBJ,OAAO,CAACC,GAAG,CAACC,UAAU,IAAIF,OAAO,CAACC,GAAG,CAACE,UAAU,IAAIH,OAAO,CAACC,GAAG,CAACK,UAAU;AAC5F;AACA;AACA,GAAG;EAEDC,WAAW,EAAE;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAWP,OAAO,CAACC,GAAG,CAACC,UAAU,IAAIF,OAAO,CAACC,GAAG,CAACE,UAAU,IAAIH,OAAO,CAACC,GAAG,CAACG,UAAU;AACrF,gBAAgBJ,OAAO,CAACC,GAAG,CAACC,UAAU,IAAIF,OAAO,CAACC,GAAG,CAACE,UAAU,IAAIH,OAAO,CAACC,GAAG,CAACK,UAAU;AAC1F;AACA;AACA;AACA;AACA;AACA,CAAC;EAED;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;;EAGAE,kBAAkB,EAAE;AACpB,eAAeR,OAAO,CAACC,GAAG,CAACC,UAAU,IAAIF,OAAO,CAACC,GAAG,CAACE,UAAU,IAAIH,OAAO,CAACC,GAAG,CAACG,UAAU;AACzF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;EAGDK,iBAAiB,EACjB;AACJ,eAAeT,OAAO,CAACC,GAAG,CAACC,UAAU,IAAIF,OAAO,CAACC,GAAG,CAACE,UAAU,IAAIH,OAAO,CAACC,GAAG,CAACG,UAAU;AACzF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;EAEHM,UAAU,EAAE;AACd,sBAAsBV,OAAO,CAACC,GAAG,CAACC,UAAU,IAAIF,OAAO,CAACC,GAAG,CAACE,UAAU,IAAIH,OAAO,CAACC,GAAG,CAACG,UAAU;AAChG;AACA;AACA,CAAC","ignoreList":[]}