{"version":3,"file":"attendanceFile.queries.js","names":["attendanceFileQueries","exports","validateClassId","process","env","PROJECT_ID","DATASET_ID","TABLE_CLASS","createAttendanceFile","TABLE_ATTENDANCE_FILE","updateAttendanceFile","getAllAttendanceFiles","getAttendanceFileById","getAttendanceFilesByClassId","deleteAttendanceFile"],"sources":["../../../src/queries/attendanceFile/attendanceFile.queries.ts"],"sourcesContent":["export const attendanceFileQueries = {\r\n    // Validate if classId exists in the classes table before any operation\r\n    validateClassId: `\r\n      SELECT id FROM \\`${process.env.PROJECT_ID}.${process.env.DATASET_ID}.${process.env.TABLE_CLASS}\\`\r\n      WHERE id = @classId\r\n    `,\r\n\r\n    createAttendanceFile: `\r\n      INSERT INTO \\`${process.env.PROJECT_ID}.${process.env.DATASET_ID}.${process.env.TABLE_ATTENDANCE_FILE}\\`\r\n      (id, classId, teamsAttendanceFile, attendanceDate, createdBy, createdAt)\r\n      VALUES (@id, @classId, @teamsAttendanceFile, @attendanceDate, @createdBy, @createdAt)\r\n    `,\r\n\r\n    updateAttendanceFile: `\r\n      UPDATE \\`${process.env.PROJECT_ID}.${process.env.DATASET_ID}.${process.env.TABLE_ATTENDANCE_FILE}\\`\r\n      SET classId = @classId,\r\n          teamsAttendanceFile = @teamsAttendanceFile, \r\n          attendanceDate = @attendanceDate, \r\n          updatedBy = @updatedBy,\r\n          updatedAt = @updatedAt \r\n      WHERE id = @id\r\n    `,\r\n\r\n    getAllAttendanceFiles: `\r\n      SELECT af.*, c.classTitle\r\n      FROM \\`${process.env.PROJECT_ID}.${process.env.DATASET_ID}.${process.env.TABLE_ATTENDANCE_FILE}\\` af\r\n      JOIN \\`${process.env.PROJECT_ID}.${process.env.DATASET_ID}.${process.env.TABLE_CLASS}\\` c\r\n      ON af.classId = c.id\r\n    `,\r\n\r\n    getAttendanceFileById: `\r\n      SELECT af.*, c.classTitle\r\n      FROM \\`${process.env.PROJECT_ID}.${process.env.DATASET_ID}.${process.env.TABLE_ATTENDANCE_FILE}\\` af\r\n      JOIN \\`${process.env.PROJECT_ID}.${process.env.DATASET_ID}.${process.env.TABLE_CLASS}\\` c\r\n      ON af.classId = c.id\r\n      WHERE af.id = @id\r\n    `,\r\n\r\n    getAttendanceFilesByClassId: `\r\n      SELECT af.*, c.classTitle\r\n      FROM \\`${process.env.PROJECT_ID}.${process.env.DATASET_ID}.${process.env.TABLE_ATTENDANCE_FILE}\\` af\r\n      JOIN \\`${process.env.PROJECT_ID}.${process.env.DATASET_ID}.${process.env.TABLE_CLASS}\\` c\r\n      ON af.classId = c.id\r\n      WHERE af.classId = @classId\r\n    `,\r\n\r\n    deleteAttendanceFile: `\r\n      DELETE FROM \\`${process.env.PROJECT_ID}.${process.env.DATASET_ID}.${process.env.TABLE_ATTENDANCE_FILE}\\`\r\n      WHERE id = @id\r\n    `\r\n};\r\n"],"mappings":";;;;;;AAAO,MAAMA,qBAAqB,GAAAC,OAAA,CAAAD,qBAAA,GAAG;EACjC;EACAE,eAAe,EAAE;AACrB,yBAAyBC,OAAO,CAACC,GAAG,CAACC,UAAU,IAAIF,OAAO,CAACC,GAAG,CAACE,UAAU,IAAIH,OAAO,CAACC,GAAG,CAACG,WAAW;AACpG;AACA,KAAK;EAEDC,oBAAoB,EAAE;AAC1B,sBAAsBL,OAAO,CAACC,GAAG,CAACC,UAAU,IAAIF,OAAO,CAACC,GAAG,CAACE,UAAU,IAAIH,OAAO,CAACC,GAAG,CAACK,qBAAqB;AAC3G;AACA;AACA,KAAK;EAEDC,oBAAoB,EAAE;AAC1B,iBAAiBP,OAAO,CAACC,GAAG,CAACC,UAAU,IAAIF,OAAO,CAACC,GAAG,CAACE,UAAU,IAAIH,OAAO,CAACC,GAAG,CAACK,qBAAqB;AACtG;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;EAEDE,qBAAqB,EAAE;AAC3B;AACA,eAAeR,OAAO,CAACC,GAAG,CAACC,UAAU,IAAIF,OAAO,CAACC,GAAG,CAACE,UAAU,IAAIH,OAAO,CAACC,GAAG,CAACK,qBAAqB;AACpG,eAAeN,OAAO,CAACC,GAAG,CAACC,UAAU,IAAIF,OAAO,CAACC,GAAG,CAACE,UAAU,IAAIH,OAAO,CAACC,GAAG,CAACG,WAAW;AAC1F;AACA,KAAK;EAEDK,qBAAqB,EAAE;AAC3B;AACA,eAAeT,OAAO,CAACC,GAAG,CAACC,UAAU,IAAIF,OAAO,CAACC,GAAG,CAACE,UAAU,IAAIH,OAAO,CAACC,GAAG,CAACK,qBAAqB;AACpG,eAAeN,OAAO,CAACC,GAAG,CAACC,UAAU,IAAIF,OAAO,CAACC,GAAG,CAACE,UAAU,IAAIH,OAAO,CAACC,GAAG,CAACG,WAAW;AAC1F;AACA;AACA,KAAK;EAEDM,2BAA2B,EAAE;AACjC;AACA,eAAeV,OAAO,CAACC,GAAG,CAACC,UAAU,IAAIF,OAAO,CAACC,GAAG,CAACE,UAAU,IAAIH,OAAO,CAACC,GAAG,CAACK,qBAAqB;AACpG,eAAeN,OAAO,CAACC,GAAG,CAACC,UAAU,IAAIF,OAAO,CAACC,GAAG,CAACE,UAAU,IAAIH,OAAO,CAACC,GAAG,CAACG,WAAW;AAC1F;AACA;AACA,KAAK;EAEDO,oBAAoB,EAAE;AAC1B,sBAAsBX,OAAO,CAACC,GAAG,CAACC,UAAU,IAAIF,OAAO,CAACC,GAAG,CAACE,UAAU,IAAIH,OAAO,CAACC,GAAG,CAACK,qBAAqB;AAC3G;AACA;AACA,CAAC","ignoreList":[]}